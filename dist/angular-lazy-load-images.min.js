!function(){"use strict";function i(i){var e=0,t=0,n=function(i){var n=i.offsetTop,a=n+i.clientHeight;return n<=t&&n>=e||a<=t&&a>=e||n<=e&&a>=t};return{restrict:"E",template:'<img class="{{ imgClass }}" id="img-loaded-{{ index }}" ng-src="{{ src }}" width="{{ width }}" height="{{ height }}" alt="{{ alt }}" />',link:function(a,r,l){a.index=a.$index,a.imgClass=l.imgClass,a.width=l.imgWidth||300,a.height=l.imgHeight||300,a.alt=l.imgAlt||"";var g=l.imgUrl,s=r.find("img")[0],o=function(){e=i.pageYOffset,t=e+i.innerHeight;var r=n(s);r&&a.safeApply(function(){a.src=g,angular.element(i).off("scroll",o)})};a.safeApply=function(i){var e=this.$root.$$phase;"$apply"==e||"$digest"==e?i&&"function"==typeof i&&i():this.$apply(i)},angular.element(i).on("scroll",o),angular.element(document).ready(function(){o()})}}}i.$inject=["$window"],angular.module("ProgressiveImageLoader",[]).directive("imageLoaderDirective",i)}();